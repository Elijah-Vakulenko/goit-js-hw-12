{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport axios from 'axios';\n\n\n// import { getImages } from './js/pixabay-api.js'; //← функція фетчу зображень з серверу\nimport { galleryRender} from './js/render-functions.js'; //← імпорт функції рендеру\n\n//===============================================================================\n// імпорт DOM елементів\n\nconst refs = {\n    form: document.querySelector('.search-form'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n//     loadMoreBtn: null,\n}\n\n// let currentPage = 1; //← відображаємо номер поточної сторінки (після кожних 20 фото завантажуємо наступні 20, тобто додаємо нову сторінку)\n\n// //===============================================================================\n// // Налаштовуємо SimpleLightbox\n\n// function initilizeLightbox() {\n//     let lightbox = new SimpleLightbox('.gallery a', {\n//     captionDelay: 250,\n//     captionsData: 'alt',\n//     captionPosition: 'bottom',\n//     });\n    \n//      lightbox.refresh();\n// }\n// //===============================================================================\n// //IziToast Alert\n\n// function showNoResultsMessage() {\n//     iziToast.error({\n//         title: 'Error!',\n//         message: `Sorry, there are no images matching your search query. Please try again!`,\n//         position: \"center\",\n//         messageColor: 'white',\n//         backgroundColor: '#ff3d00',\n//         progressBarColor: '#B51B1B',\n//     });\n// }\n\n// //===============================================================================\n// // Налаштовуємо слухач подій та визначаємо, що буде відбуватися при запиті\n\n// refs.form.addEventListener('submit', event => {\n//     event.preventDefault();\n//     const query = event.target.elements.query.value.trim();\n//     currentPage = 1;\n\n//     refs.loader.classList.remove('is-hidden'); //← видаляємо клас visually hidden щоб показати, що йде пошук, сторінка чекає на завантаження даних.\n    \n//     getImages(query).then(data => {\n//            if (data.hits.length === 0) {\n//             // якщо немає результатів пошуку:\n//                if (refs.loadMoreBtn) {\n//                     refs.loadMoreBtn.remove(); // ← видаляю кнопку load more\n//                 }\n//                showNoResultsMessage(); //← запускаємо функцію оповіщення від iziToast;\n//                refs.gallery.innerHTML = '';//← очищуємо галерею, якщо там лишився результат минулого пошуку;\n//         } else {\n//             //Якщо пошук за ключем дає результат, запускаємо рендер та виводимо зображення за допомогою Lightbox\n//             const markup = galleryRender(data.hits);\n//             refs.gallery.innerHTML = markup;\n//                initilizeLightbox(); //← підключаємо Лайтбокс\n\n//                //Тепер, після того як в нас вже завантажилися 20 зображень, ми створюємо кнопку \"Завантажити ще\"\n\n\n//                if (data.totalHits > 20) {\n//                 if (refs.loadMoreBtn) { //← якщо кнопка завантажити ще лишилася з минулого запиту то видаляємо її\n//                     refs.loadMoreBtn.remove(); \n//                 }\n//                 refs.loadMoreBtn = document.createElement('button');\n//                 refs.loadMoreBtn.textContent = 'Load More';\n//                 refs.loadMoreBtn.classList.add('load-more');\n//                 refs.gallery.insertAdjacentElement('afterend', refs.loadMoreBtn); // ← додаємо кнопку після галереї\n//                 refs.loadMoreBtn.addEventListener('click', loadMoreImages); // ← Викликаємо функцію завантаження наступних 20 зображень\n//             }\n//         }\n//         // Ховаємо індикатор завантаження даних після завантаження зображень\n//         refs.loader.classList.add('is-hidden');\n//     });\n// });\n\n// //============================================================================\n// // Додаємо наступну сторінку з 20ма зображеннями при кліку по кнопці\n\n// function loadMoreImages() {\n//     currentPage++; // \n//     const query = refs.form.elements.query.value.trim();\n\n//     refs.loader.classList.remove('is-hidden');\n\n//     getImages(query, currentPage).then(data => {\n//         if (data.hits.length === 0) {\n//             showNoResultsMessage();\n//         } else {\n//             const markup = galleryRender(data.hits);\n//             refs.gallery.insertAdjacentHTML('beforeend', markup);\n\n//             let lightbox = new SimpleLightbox('.gallery a',\n//                 {\n//                     captionDelay: 250,\n//                     captionsData: 'alt',\n//                     captionPosition: 'bottom',\n//                 });\n            \n//             lightbox.refresh();\n//         }\n\n//         refs.loader.classList.add('is-hidden');\n//     });\n// }"],"names":[],"mappings":"0uBAgBU,SAAS,cAAc,cAAc,EAClC,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS"}